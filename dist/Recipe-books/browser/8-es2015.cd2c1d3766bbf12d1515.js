(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{SeG7:function(t,n,e){"use strict";e.r(n);var i=e("3Pt+"),o=e("tyNb"),s=e("JOWn"),c=e("fXoL"),r=e("kt0X"),b=e("xgx3"),u=e("ofXK");const a=["formObject"];function d(t,n){if(1&t){const t=c.Pb();c.Ob(0,"button",13),c.Wb("click",(function(){return c.ic(t),c.Yb().onDelete()})),c.nc(1,"Delete"),c.Nb()}}let p=(()=>{class t{constructor(t){this.store=t,this.editMode=!1,console.log(this.formObject)}ngOnInit(){this.subscription=this.store.select("shoppingList").subscribe(t=>{t.editedIngredient?(this.editMode=!0,this.editItem=Object.assign({},t.editedIngredient),this.formObject.setValue({name:this.editItem.name,amount:this.editItem.amount})):this.editMode=!1})}onSubmitIngredient(t){const n=new b.a(t.value.name,t.value.amount);this.store.dispatch(this.editMode?new s.g(n):new s.a(n)),this.onClear()}ngOnDestroy(){this.onClear(),this.subscription.unsubscribe()}onClear(){this.store.dispatch(new s.f),this.editMode=!1,this.formObject.reset()}onDelete(){this.store.dispatch(new s.c),this.onClear()}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(r.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-shopping-edit"]],viewQuery:function(t,n){var e;1&t&&c.lc(a,!0),2&t&&c.fc(e=c.Xb())&&(n.formObject=e.first)},decls:20,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["formObject","ngForm"],[1,"col-sm-5"],["for","name"],["required","","ngModel","","name","name","type","text","id","name",1,"form-control"],[1,"col-sm-2"],["for","amount"],["required","","pattern","^[1-9]+[0-9]*$","ngModel","","name","amount","type","number","id","amount",1,"form-control"],["type","submit",1,"btn","btn-success","buttonSpace",3,"disabled"],["class","btn btn-danger buttonSpace","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","buttonSpace",3,"click"],["type","button",1,"btn","btn-danger","buttonSpace",3,"click"]],template:function(t,n){if(1&t){const t=c.Pb();c.Ob(0,"div",0),c.Ob(1,"div",1),c.Ob(2,"form",2,3),c.Wb("ngSubmit",(function(){c.ic(t);const e=c.gc(3);return n.onSubmitIngredient(e)})),c.Ob(4,"div",0),c.Ob(5,"div",4),c.Ob(6,"label",5),c.nc(7,"Name"),c.Nb(),c.Mb(8,"input",6),c.Nb(),c.Ob(9,"div",7),c.Ob(10,"label",8),c.nc(11,"Amount"),c.Nb(),c.Mb(12,"input",9),c.Nb(),c.Nb(),c.Ob(13,"div",0),c.Ob(14,"div",1),c.Ob(15,"button",10),c.nc(16),c.Nb(),c.mc(17,d,2,0,"button",11),c.Ob(18,"button",12),c.Wb("click",(function(){return n.onClear()})),c.nc(19,"Clear"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=c.gc(3);c.Bb(15),c.bc("disabled",t.invalid),c.Bb(1),c.oc(n.editMode?"Update":"Add"),c.Bb(1),c.bc("ngIf",n.editMode)}},directives:[i.u,i.m,i.n,i.a,i.s,i.l,i.o,i.p,i.q,u.j],styles:[".buttonSpace[_ngcontent-%COMP%]{margin:5px 5px 5px 0}"]}),t})();function l(t,n){if(1&t){const t=c.Pb();c.Ob(0,"a",4),c.Wb("click",(function(){c.ic(t);const e=n.index;return c.Yb().onEditItem(e)})),c.nc(1),c.Nb()}if(2&t){const t=n.$implicit;c.Bb(1),c.qc(" ",t.name," (",t.amount,") ")}}const m=[{path:"",component:(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.ingredients=this.store.select("shoppingList")}ngOnDestroy(){}onEditItem(t){this.store.dispatch(new s.e(t))}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(r.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-shopping-list"]],decls:7,vars:3,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(t,n){1&t&&(c.Ob(0,"div",0),c.Ob(1,"div",1),c.Mb(2,"app-shopping-edit"),c.Mb(3,"hr"),c.Ob(4,"ul",2),c.mc(5,l,2,2,"a",3),c.Zb(6,"async"),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.Bb(5),c.bc("ngForOf",c.ac(6,1,n.ingredients).ingredients))},directives:[p,u.i],pipes:[u.b],styles:[""]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[o.f.forChild(m)],o.f]}),t})();var g=e("ccKW");e.d(n,"ShoppingListModule",(function(){return h}));let h=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[g.a,i.j,i.r,f]]}),t})()}}]);