function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Nnu2:function(e,n,t){"use strict";t.r(n);var i,o,r,s=t("ccKW"),a=t("3Pt+"),c=t("tyNb"),l=t("fXoL"),b=((o=function(){function e(){_classCallCheck(this,e),this.closeAlert=new l.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onClose",value:function(){this.closeAlert.emit()}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=l.Fb({type:o,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{closeAlert:"closeAlert"},decls:7,vars:1,consts:[[1,"backdrop",3,"click"],[1,"alert-box"],[1,"alert-box-actions"],[1,"btn","btn-primary",3,"click"]],template:function(e,n){1&e&&(l.Ob(0,"div",0),l.Wb("click",(function(){return n.onClose()})),l.Nb(),l.Ob(1,"div",1),l.Ob(2,"p"),l.nc(3),l.Nb(),l.Ob(4,"div",2),l.Ob(5,"button",3),l.Wb("click",(function(){return n.onClose()})),l.nc(6,"Close"),l.Nb(),l.Nb(),l.Nb()),2&e&&(l.Bb(3),l.oc(n.message))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.75)}.alert-box[_ngcontent-%COMP%]{position:fixed;top:30vh;left:20vw;width:60vw;padding:16px;z-index:100;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.26)}.alert-box-actions[_ngcontent-%COMP%]{text-align:right}"]}),o),d=((i=function e(n){_classCallCheck(this,e),this.viewContainerRef=n}).\u0275fac=function(e){return new(e||i)(l.Lb(l.N))},i.\u0275dir=l.Gb({type:i,selectors:[["","appPlaceholder",""]]}),i),u=t("cABq"),f=t("9ans"),p=t("kt0X"),g=t("ofXK"),m=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Fb({type:r,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(e,n){1&e&&(l.Ob(0,"div",0),l.Mb(1,"div"),l.Mb(2,"div"),l.Mb(3,"div"),l.Mb(4,"div"),l.Nb())},styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:8px solid transparent;border-top-color:#6495ed}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}"]}),r),h=["form"];function v(e,n){if(1&e){var t=l.Pb();l.Ob(0,"div",14),l.Ob(1,"button",15),l.Wb("click",(function(){return l.ic(t),l.Yb().clearError()})),l.Ob(2,"span",16),l.nc(3,"\xd7"),l.Nb(),l.Nb(),l.nc(4),l.Nb()}if(2&e){var i=l.Yb();l.Bb(4),l.pc(" ",i.errorMessage," ")}}function w(e,n){1&e&&(l.Ob(0,"div",17),l.Mb(1,"app-loading-spinner"),l.Nb())}var y,k,C=[{path:"",component:(y=function(){function e(n,t,i,o){_classCallCheck(this,e),this.authService=n,this.router=t,this.componentFactoryResolver=i,this.store=o,this.isLoginMode=!0,this.isLoading=!1,this.errorMessage=null}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.errorMessageSub=this.store.select("auth").subscribe((function(n){e.errorMessage=n.errorMessage,e.isLoading=n.loading}))}},{key:"ngOnDestroy",value:function(){this.errorMessageSub.unsubscribe(),this.closeComponent&&this.closeComponent.unsubscribe()}},{key:"onSwitchLoginMode",value:function(){this.errorMessage=null,this.isLoginMode=!this.isLoginMode,this.formObject.reset()}},{key:"onSubmitForm",value:function(e){if(!e.invalid){var n=e.value.email,t=e.value.password;this.store.dispatch(this.isLoginMode?new u.g({email:n,password:t}):new u.k({email:n,password:t}))}}},{key:"clearError",value:function(){this.store.dispatch(new u.e)}},{key:"showErrorAlert",value:function(e){var n=this,t=this.componentFactoryResolver.resolveComponentFactory(b),i=this.alertHost.viewContainerRef,o=i.createComponent(t);o.instance.message=e,this.closeComponent=o.instance.closeAlert.subscribe((function(){n.closeComponent.unsubscribe(),i.clear()}))}}]),e}(),y.\u0275fac=function(e){return new(e||y)(l.Lb(f.a),l.Lb(c.c),l.Lb(l.j),l.Lb(p.b))},y.\u0275cmp=l.Fb({type:y,selectors:[["app-auth"]],viewQuery:function(e,n){var t;1&e&&(l.lc(h,!0),l.lc(d,!0)),2&e&&(l.fc(t=l.Xb())&&(n.formObject=t.first),l.fc(t=l.Xb())&&(n.alertHost=t.first))},decls:21,vars:6,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],[3,"ngSubmit"],["form","ngForm"],[3,"disabled"],[1,"form-group"],["for","email"],["required","","email","","ngModel","","name","email","type","email","id","email",1,"form-control"],["for","password"],["required","","minlength","6","ngModel","","name","password","type","password","id","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],["class","alert alert-danger alert-dismissible","style","margin-top: 15px",4,"ngIf"],["style","text-align: center",4,"ngIf"],[1,"alert","alert-danger","alert-dismissible",2,"margin-top","15px"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"text-align","center"]],template:function(e,n){if(1&e){var t=l.Pb();l.Ob(0,"div",0),l.Ob(1,"div",1),l.Ob(2,"form",2,3),l.Wb("ngSubmit",(function(){l.ic(t);var e=l.gc(3);return n.onSubmitForm(e)})),l.Ob(4,"fieldset",4),l.Ob(5,"div",5),l.Ob(6,"label",6),l.nc(7,"E-Mail"),l.Nb(),l.Mb(8,"input",7),l.Nb(),l.Ob(9,"div",5),l.Ob(10,"label",8),l.nc(11,"Password"),l.Nb(),l.Mb(12,"input",9),l.Nb(),l.Ob(13,"div"),l.Ob(14,"button",10),l.nc(15),l.Nb(),l.nc(16," | "),l.Ob(17,"button",11),l.Wb("click",(function(){return n.onSwitchLoginMode()})),l.nc(18),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.mc(19,v,5,1,"div",12),l.mc(20,w,2,0,"div",13),l.Nb(),l.Nb()}if(2&e){var i=l.gc(3);l.Bb(4),l.bc("disabled",n.isLoading),l.Bb(10),l.bc("disabled",i.invalid),l.Bb(1),l.oc(n.isLoginMode?"Login":"Sign Up"),l.Bb(3),l.pc("Switch to ",n.isLoginMode?"Sign Up":"Login",""),l.Bb(1),l.bc("ngIf",n.errorMessage),l.Bb(1),l.bc("ngIf",n.isLoading)}},directives:[a.u,a.m,a.n,a.a,a.s,a.b,a.l,a.o,a.k,g.j,m],styles:[""]}),y)}],O=((k=function e(){_classCallCheck(this,e)}).\u0275mod=l.Jb({type:k}),k.\u0275inj=l.Ib({factory:function(e){return new(e||k)},imports:[[c.f.forChild(C)],c.f]}),k);t.d(n,"AuthModule",(function(){return _}));var M,_=((M=function e(){_classCallCheck(this,e)}).\u0275mod=l.Jb({type:M}),M.\u0275inj=l.Ib({factory:function(e){return new(e||M)},imports:[[a.j,a.r,s.a,O]]}),M)}}]);